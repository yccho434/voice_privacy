# app/detectors/label_norm.py
from typing import Dict

# 표준 라벨: 상담 도메인 포함
STANDARD = {"이름","소속","주소","신원","계정","번호","금융","URL",
            "정신건강","상담이력","생활패턴","사건경험"}

LABEL_NORMALIZE: Dict[str,str] = {
    # 번호
    "전화번호":"번호","휴대전화":"번호","핸드폰":"번호","휴대폰":"번호","연락처":"번호",
    "팩스":"번호","내선":"번호","ZIP":"번호","차량번호":"번호",
    # 신원
    "주민등록번호":"신원","여권번호":"신원","운전면허번호":"신원","생년월일":"신원",
    "날짜":"신원","시간":"신원","의무기록번호":"신원","진료번호":"신원",
    # 금융
    "계좌번호":"금융","카드번호":"금융","보안코드":"금융",
    # 계정
    "이메일":"계정","Email":"계정","email":"계정","아이디":"계정","계정명":"계정",
    # URL/네트워크
    "URL":"URL","링크":"URL","도메인":"URL","IP":"URL","IPv4":"URL","IPv6":"URL",
    # 주소
    "우편번호":"주소","지번":"주소","도로명주소":"주소",
    # 이름/소속
    "성명":"이름","이름":"이름","회사":"소속","부서":"소속","직책":"소속","직함":"소속","학교":"소속",
    # ---- 상담 도메인 ----
    "우울":"정신건강","불안":"정신건강","공황":"정신건강","ADHD":"정신건강",
    "PTSD":"정신건강","양극성":"정신건강","조현병":"정신건강","진단명":"정신건강",
    "약물명":"정신건강","복용약":"정신건강","수면제":"정신건강","항우울제":"정신건강","항불안제":"정신건강",
    "상담내용":"상담이력","상담이력":"상담이력","세션기록":"상담이력","내담기록":"상담이력",
    "생활습관":"생활패턴","취침시간":"생활패턴","음주":"생활패턴","흡연":"생활패턴","운동":"생활패턴",
    "사건경험":"사건경험","학대":"사건경험","폭력":"사건경험","사고":"사건경험","자살시도":"사건경험",
}

def normalize_label(label: str) -> str:
    lab = LABEL_NORMALIZE.get(label, label)
    return lab if lab in STANDARD else lab
